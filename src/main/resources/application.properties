micronaut.application.name=auth-service

# Security Configuration
micronaut.security.authentication=bearer
micronaut.security.token.jwt.signatures.secret.generator.secret=${JWT_SECRET:c2VjcmV0c2VjcmV0c2VjcmV0c2VjcmV0c2VjcmV0c2VjcmV0c2VjcmV0c2VjcmV0}
micronaut.security.token.jwt.signatures.secret.generator.jws-algorithm=HS256

# Database Configuration
datasources.default.url=jdbc:mysql://localhost:3306/qur
datasources.default.driverClassName=com.mysql.cj.jdbc.Driver
datasources.default.username=root
datasources.default.password=root
datasources.default.schema-generate=CREATE_DROP
datasources.default.dialect=MYSQL

# JPA Configuration
jpa.default.entity-scan.packages=org.entity
jpa.default.properties.hibernate.hbm2ddl.auto=update
jpa.default.properties.hibernate.show_sql=true
jpa.default.properties.hibernate.format_sql=true

# Login page
micronaut.security.intercept-url-map[0].pattern=/web/login/**
micronaut.security.intercept-url-map[0].http-method=GET
micronaut.security.intercept-url-map[0].access[0]=isAnonymous()

# Register page
micronaut.security.intercept-url-map[1].pattern=/web/register/**
micronaut.security.intercept-url-map[1].http-method=GET
micronaut.security.intercept-url-map[1].access[0]=isAnonymous()


micronaut.security.intercept-url-map[4].pattern=/**
micronaut.security.intercept-url-map[4].http-method=GET
micronaut.security.intercept-url-map[4].access[0]=isAnonymous()

# JavaScript resources
micronaut.security.intercept-url-map[3].pattern=/js/**
micronaut.security.intercept-url-map[3].http-method=GET
micronaut.security.intercept-url-map[3].access[0]=isAnonymous()


# Dashboard requires authentication
micronaut.security.intercept-url-map[6].pattern=/web/dashboard/**
micronaut.security.intercept-url-map[6].http-method=GET
micronaut.security.intercept-url-map[6].access[0]=isAuthenticated()


# Thymeleaf configuration
micronaut.views.thymeleaf.enabled=true
# Default is 'views' but specify explicitly to be sure
micronaut.views.folder=views

# Debug logging
logging.level.io.micronaut.security=DEBUG
logging.level.io.micronaut.web=DEBUG
logging.level.io.micronaut.views=DEBUG


